# 声明小说生成系统的prompt配置文件
# 包含4个处理阶段的prompt模板

# 版权规避配置
copyright_bypass:
  enabled: true
  # 世界观改写选项
  world_options:
    - "现代都市背景"
    - "奇幻修仙背景"
    - "科幻未来背景"
    - "古代宫廷背景"
    - "江湖武侠背景"
  
  # 各世界观风格的详细描述
  world_descriptions:
    modern_urban: "现代都市背景：高楼大厦、汽车、手机、电脑等现代科技元素，都市生活节奏快，人物身份可以是白领、学生、创业者等"
    fantasy_cultivation: "奇幻修仙背景：修真、炼丹、御剑飞行、宗门、灵力、境界等元素，人物身份可以是修士、仙人、妖魔等"
    scifi_future: "科幻未来背景：太空飞船、人工智能、机器人、外星文明、未来科技等元素，人物身份可以是宇航员、科学家、机械师等"
    ancient_court: "古代宫廷背景：皇宫、朝堂、科举、礼制、诗词歌赋等元素，人物身份可以是皇帝、大臣、妃嫔、文人等"
    martial_arts: "江湖武侠背景：武功、门派、江湖恩怨、侠义精神、刀剑等元素，人物身份可以是侠客、武林高手、门派掌门等"
  # 人物名称生成风格
  naming_conventions:
    modern: ["林", "陈", "黄", "王", "张", "李", "刘", "赵", "孙", "周", "吴", "徐", "朱", "胡", "郭", "何", "高", "林", "罗", "郑"]
    fantasy: ["墨", "玄", "凌", "萧", "夜", "月", "风", "云", "雪", "花", "玉", "瑾", "瑜", "璃", "薇", "兰", "竹", "梅", "菊", "莲"]
    scifi: ["星", "辰", "宇", "航", "天", "雷", "电", "光", "速", "战", "斗", "龙", "翼", "零", "壹", "贰", "叁", "肆", "伍", "陆"]
    ancient: ["子", "轩", "彦", "伯", "仲", "叔", "季", "德", "仁", "义", "礼", "智", "信", "忠", "孝", "勇", "毅", "文", "武", "安"]
    martial: ["飞", "雪", "连", "天", "射", "白", "鹿", "破", "苍", "穹", "惊", "雷", "震", "岳", "凌", "云", "追", "风", "踏", "月"]
  
  # 人物角色类型
  character_roles:
    - "主角/英雄"
    - "女主角/美丽女子"
    - "反派/敌人"
    - "导师/智者"
    - "伙伴/朋友"
    - "统治者/君主"
    - "战士/武者"
    - "普通人/平民"

# 阶段1: 长文本API模型 → 整篇剧情摘要和伏笔 (>150字)
stage1_summary:
  name: "剧情摘要和伏笔生成"
  description: "将长文本转换为整篇剧情摘要和伏笔内容"
  prompt_template: |
    请将以下长篇小说文本转换为详细的剧情摘要和伏笔分析，要求：
    
    {copyright_bypass_info}
    
    1. 生成完整的剧情摘要（>150字），包含主要情节、人物关系和发展脉络
    2. 识别并分析重要的伏笔元素，包括：
       - 潜在的剧情转折点
       - 人物命运的暗示
       - 关键道具或符号的象征意义
       - 未解的谜团或悬念
    
    3. 确保摘要和分析具有逻辑性和连贯性
    4. 保持原文的核心风格和主题
    
    请以以下格式输出：
    
    【剧情摘要】
    [在此处生成详细的剧情摘要]
    
    【伏笔分析】
    [在此处分析重要的伏笔元素]
    
    原文内容：
    {input_text}

# 阶段2: 基于剧情摘要和伏笔构建章节大纲 (100字/章)
stage2_chapter_outline:
  name: "章节大纲构建"
  description: "基于剧情摘要和伏笔内容生成章节大纲"
  prompt_template: |
    基于以下剧情摘要和伏笔分析，请为整篇小说构建合理的章节大纲：
    
    {copyright_bypass_info}
    
    【剧情摘要】
    {summary}
    
    【伏笔分析】
    {foreshadowing}
    
    要求：
    1. 根据故事发展逻辑合理划分章节
    2. 每章大纲控制在100字左右
    3. 充分运用伏笔元素，确保情节连贯性
    4. 每章应该有明确的情节推进和冲突设置
    5. 章节之间要有自然的过渡和衔接
    6. {character_replacement_guidance}
    
    请以以下格式输出：
    
    【章节大纲】
    第1章：[章节标题]
    [章节内容大纲，约100字]
    
    第2章：[章节标题]
    [章节内容大纲，约100字]
    
    [继续生成更多章节...]

# 阶段3: 每章大纲 → 1k扩写
stage3_chapter_expansion:
  name: "章节扩写到1k字"
  description: "将章节大纲扩写到约1000字"
  prompt_template: |
    请将以下章节大纲扩写到约1000字：
    
    {copyright_bypass_info}
    
    【章节大纲】
    {chapter_outline}
    
    要求：
    1. 保持大纲的核心情节和人物设定
    2. 添加丰富的细节描写，包括：
       - 环境氛围营造
       - 人物心理活动
       - 对话和互动
       - 动作和场景描述
    
    3. 确保文字流畅，符合小说的叙事风格
    4. 适当运用伏笔元素，为后续章节做铺垫
    5. 控制字数在900-1100字之间
    6. {character_replacement_guidance}
    
    请以小说的形式输出这一章的完整内容。

# 阶段4: 1k → 2k扩写（深度优化和润色）
stage4_final_expansion:
  name: "最终扩写到2k字"
  description: "将章节内容从1k字扩写到约2000字并进行深度优化"
  prompt_template: |
    请将以下章节内容从约1000字扩写到约2000字，并进行深度优化：
    
    {copyright_bypass_info}
    
    【章节内容】
    {chapter_content}
    
    要求：
    1. 保持原有的情节主线和人物性格
    2. 进一步丰富和深化以下元素：
       - 更详细的环境描写和氛围营造
       - 更深入的人物内心独白和情感变化
       - 更丰富的对话内容和互动细节
       - 更完整的场景转换和节奏控制
    
    3. 确保扩写后的内容自然流畅，不显得冗长
    4. 加强伏笔的运用，使情节更加引人入胜
    5. 控制字数在1800-2200字之间
    6. {character_replacement_guidance}
    
    请以完整的小说章节形式输出扩写后的内容。

# 输出格式配置
output_format:
  name: "标准化输出格式"
  description: "定义标准化的输出格式"
  format: |
    【{stage_name}】
    {timestamp}
    
    {content}
    
    ------------------------