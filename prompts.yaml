# 声明小说生成系统的prompt配置文件
# 包含4个处理阶段的prompt模板

# 版权规避配置
copyright_bypass:
  enabled: true
  # 世界观改写选项
  world_options:
    - "玄幻修真世界"
    - "都市异能世界"
    - "末世求生世界"
    - "系统流穿书世界"
    - "星际修仙世界"
    - "武侠江湖世界"
    - "无限流副本世界"
    - "田园休闲世界"
    - "仙侠神话世界"
    - "奇幻魔法世界"
  
  # 各世界观风格的详细描述
  world_descriptions:
    fantasy_cultivation: "玄幻修真世界：存在炼气、金丹、元婴等境界，宗门林立，可夺天材地宝，悟大道法则，有飞天遁地之能，人物多为修士、宗门弟子、散修等"
    urban_superpower: "都市异能世界：现代都市中隐藏着觉醒异能的人群，可操控元素、读心、自愈等，异能者组成隐秘组织，与普通人世界并行，人物可为异能者、猎人、觉醒者等"
    apocalyptic_survival: "末世求生世界：丧尸 / 异兽横行，文明崩坏，人类抱团求生，可觉醒异能或依靠科技，资源匮乏，充满背叛与希望，人物多为幸存者、基地首领、异能者等"
    system_transmigration: "系统流穿书世界：主角携带系统穿入小说世界，完成任务获奖励，可改剧情、打脸反派，系统功能多样，人物为宿主、系统、原书角色等"
    interstellar_cultivation: "星际修仙世界：修真与星际科技结合，修士乘星舰穿梭星系，夺星际资源，与外星种族修仙者交锋，有星际宗门、修真家族，人物为星际修士、星舰舰长等"
    martial_arts_world: "武侠江湖世界：门派众多，武功秘籍藏于江湖，有轻功、内力，讲究侠义与恩怨，武林大会定排名，人物为侠客、掌门、魔教教主等"
    infinite_dungeon: "无限流副本世界：参与者被拉入异空间，闯不同副本（恐怖片、历史、未来等），完成任务得积分强化自身，副本危险重重，人物为参与者、副本 NPC 等"
    pastoral_leisure: "田园休闲世界：远离纷争的乡村或异界田园，可种田、养宠、炼丹，节奏舒缓，侧重生活细节与情感，人物为农家子、穿越者、隐居者等"
    xianxia_myth: "仙侠神话世界：基于神话传说，有仙、神、魔、妖，存在天庭、地府，可渡劫飞升，涉及蟠桃会、封神等事件，人物为仙人、妖怪、凡间修士等"
    fantasy_magic: "奇幻魔法世界：有精灵、矮人、兽人等种族，靠魔法水晶或元素之力施展魔法，王国与魔法学院并存，存在龙与宝藏，人物为魔法师、骑士、种族首领等"

  # 人物名称生成风格
  naming_conventions:
    modern: ["林", "陈", "黄", "王", "张", "李", "刘", "赵", "孙", "周", "吴", "徐", "朱", "胡", "郭", "何", "高", "林", "罗", "郑"]
    fantasy: ["墨", "玄", "凌", "萧", "夜", "月", "风", "云", "雪", "花", "玉", "瑾", "瑜", "璃", "薇", "兰", "竹", "梅", "菊", "莲"]
    scifi: ["星", "辰", "宇", "航", "天", "雷", "电", "光", "速", "战", "斗", "龙", "翼", "零", "壹", "贰", "叁", "肆", "伍", "陆"]
    ancient: ["子", "轩", "彦", "伯", "仲", "叔", "季", "德", "仁", "义", "礼", "智", "信", "忠", "孝", "勇", "毅", "文", "武", "安"]
    martial: ["飞", "雪", "连", "天", "射", "白", "鹿", "破", "苍", "穹", "惊", "雷", "震", "岳", "凌", "云", "追", "风", "踏", "月"]
  
  # 人物角色类型
  character_roles:
    - "主角/英雄"
    - "女主角/美丽女子"
    - "反派/敌人"
    - "导师/智者"
    - "伙伴/朋友"
    - "统治者/君主"
    - "战士/武者"
    - "普通人/平民"

# 阶段1: 长文本API模型 → 整篇剧情摘要和伏笔 (>150字)
stage1_summary:
  name: "剧情摘要和伏笔生成"
  description: "将长文本转换为整篇剧情摘要和伏笔内容"
  prompt_template: |
    请将以下长篇小说文本转换为详细的剧情摘要和伏笔分析，要求：
    
    {copyright_bypass_info}
    
    1. 生成完整的剧情摘要（>150字），包含主要情节、人物关系和发展脉络
    2. 识别并分析重要的伏笔元素，包括：
       - 潜在的剧情转折点
       - 人物命运的暗示
       - 关键道具或符号的象征意义
       - 未解的谜团或悬念
    
    3. 确保摘要和分析具有逻辑性和连贯性
    4. 保持原文的核心风格和主题
    
    请以以下格式输出：
    
    【剧情摘要】
    [在此处生成详细的剧情摘要]
    
    【伏笔分析】
    [在此处分析重要的伏笔元素]
    
    原文内容：
    {input_text}

# 阶段2: 基于剧情摘要和伏笔构建章节大纲 (100字/章)
stage2_chapter_outline:
  name: "章节大纲构建"
  description: "基于剧情摘要和伏笔内容生成章节大纲"
  prompt_template: |
    基于以下剧情摘要和伏笔分析，请为整篇小说构建合理的章节大纲：
    
    {copyright_bypass_info}
    
    【剧情摘要】
    {summary}
    
    【伏笔分析】
    {foreshadowing}
    
    要求：
    1. 根据故事发展逻辑合理划分章节
    2. 每章大纲控制在100字左右
    3. 充分运用伏笔元素，确保情节连贯性
    4. 每章应该有明确的情节推进和冲突设置
    5. 章节之间要有自然的过渡和衔接
    6. {character_replacement_guidance}
    
    请以以下格式输出：
    
    【章节大纲】
    第1章：[章节标题]
    [章节内容大纲，约100字]
    
    第2章：[章节标题]
    [章节内容大纲，约100字]
    
    [继续生成更多章节...]

# 阶段3: 每章大纲 → 1k扩写
stage3_chapter_expansion:
  name: "章节扩写到1k字"
  description: "将章节大纲扩写到约1000字"
  prompt_template: |
    请将以下章节大纲扩写到约1000字：
    
    {copyright_bypass_info}
    
    【章节大纲】
    {chapter_outline}
    
    要求：
    1. 保持大纲的核心情节和人物设定
    2. 添加丰富的细节描写，包括：
       - 环境氛围营造
       - 人物心理活动
       - 对话和互动
       - 动作和场景描述
    
    3. 确保文字流畅，符合小说的叙事风格
    4. 适当运用伏笔元素，为后续章节做铺垫
    5. 控制字数在900-1100字之间
    6. {character_replacement_guidance}
    
    请以小说的形式输出这一章的完整内容。

# 阶段4: 1k → 2k扩写（深度优化和润色）
stage4_final_expansion:
  name: "最终扩写到2k字"
  description: "将章节内容从1k字扩写到约2000字并进行深度优化"
  prompt_template: |
    请将以下章节内容从约1000字扩写到约2000字，并进行深度优化：
    
    {copyright_bypass_info}
    
    【章节内容】
    {chapter_content}
    
    要求：
    1. 保持原有的情节主线和人物性格
    2. 进一步丰富和深化以下元素：
       - 更详细的环境描写和氛围营造
       - 更深入的人物内心独白和情感变化
       - 更丰富的对话内容和互动细节
       - 更完整的场景转换和节奏控制
    
    3. 确保扩写后的内容自然流畅，不显得冗长
    4. 加强伏笔的运用，使情节更加引人入胜
    5. 控制字数在1800-2200字之间
    6. {character_replacement_guidance}
    
    请以完整的小说章节形式输出扩写后的内容。

# 输出格式配置
output_format:
  name: "标准化输出格式"
  description: "定义标准化的输出格式"
  format: |
    【{stage_name}】
    {timestamp}
    
    {content}
    
    ------------------------